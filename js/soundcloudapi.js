(function(){function b(e){if(!d[e]){var f=d[e]={exports:{}};c[e].call(f.exports,a,f,b)}return d[e].exports}var a=this,c=b.modules=[],d=b.cache=[];c[0]=function(a,b,c){function H(a){m(a)&&(a=document.getElementById(a));if(!!a){if(arguments.length>1){var b=arguments[1],c=arguments[2]||{};a.src=j+"?url="+b+"&"+A(c)}var d=x(r(a));if(d&&d.instance)return d.instance;var e=new D(a),f=l.indexOf(r(a))>-1;k.push(new C(e,a,f));return e}}function B(a){var b,c,d,e;try{c=JSON.parse(a.data)}catch(f){}b=x(a.source),d=c.method,e=c.value,d===i.READY&&(b?b.isReady=!0:l.push(a.source));if(!b||a.origin!==b.domain)return!1;var g=[];e!==undefined&&g.push(e);var h,j,k=b.callbacks[d]||[];for(h=0,j=k.length;h<j;h++)k[h].apply(null,g);if(o(d)||d===i.READY)b.callbacks[d]=[]}function A(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&(c=a[b],d.push(b+"="+(b==="start_track"?parseInt(c,10):c?"true":"false")));return d.join("&")}function z(a,b,c){var d,e,f;for(d=0,e=b.length;d<e;d++)f=b[d],a[f]=y(f,c)}function y(a,b){return function(c){var d=n(c),e=w(this),f=!d&&b?c:null,g=d&&!b?c:null;g&&t(a,g,e),v(a,f,e.element);return this}}function x(a){var b;p(function(c){if(r(c.element)===a){b=c;return!1}});return b}function w(a){var b;p(function(c){if(c.instance===a){b=c;return!1}});return b}function v(a,b,c){var d=r(c);if(!d.postMessage)return!1;var e=c.getAttribute("src").split("?")[0],f=JSON.stringify({method:a,value:b});e.substr(0,2)==="//"&&(e=window.location.protocol+e),d.postMessage(f,e)}function u(a,b){var c=!0,d;b.callbacks[a]=[],p(function(b){d=b.callbacks[a]||[];if(d.length){c=!1;return!1}});return c}function t(a,b,c){c.callbacks[a]=c.callbacks[a]||[],c.callbacks[a].push(b)}function s(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function r(a){return a.contentWindow||a.contentDocument.parentWindow}function q(a){var b="",c,d;a.substr(0,2)==="//"&&(a=window.location.protocol+a);var e=a.split("/");for(c=0,d=e.length;c<d;c++){if(c<3)b+=e[c];else break;c<2&&(b+="/")}return b}function p(a){var b,c,d;for(b=0,c=k.length;b<c;b++){d=a(k[b]);if(d===!1)break}}function o(a){var b=!1,c;for(c in f)if(f.hasOwnProperty(c)&&f[c]===a){b=!0;break}return b}function n(a){return!!(a&&a.constructor&&a.call&&a.apply)}function m(a){return!!(a===""||a&&a.charCodeAt&&a.substr)}var d=this,e=c(1),f=c(2),g=c(3),h=e.bridge,i=e.api,j="http://wt.soundcloud.com/player/",k=[],l=[],C=function(a,b,c){this.instance=a,this.element=b,this.domain=q(b.getAttribute("src")),this.isReady=!!c,this.callbacks={}},D=function(){},E=D.prototype={load:function(a,b){if(!!a){b=b||{};var c=this,d=w(this),e=d.element,f=e.src,g=f.substr(0,f.indexOf("?"));d.isReady=!1,e.onload=function(){c.bind(i.READY,function(){var a,c=d.callbacks;for(a in c)c.hasOwnProperty(a)&&a!==i.READY&&v(h.ADD_LISTENER,a,d.element);b.callback&&b.callback()})},e.src=g+"?url="+a+"&"+A(b)}},bind:function(a,b){var c=w(this);c&&c.element&&(a===i.READY&&c.isReady?setTimeout(b,1):(t(a,b,c),v(h.ADD_LISTENER,a,c.element)));return this},unbind:function(a){var b=w(this);if(b&&b.element){var c=u(a,b);a!==i.READY&&c&&v(h.REMOVE_LISTENER,a,b.element)}}},F=s(f),G=s(g);z(E,F),z(E,G,!0),window.addEventListener?window.addEventListener("message",B,!1):window.attachEvent("onmessage",B),H.Events=i,a.SC=a.SC||{},a.SC.Widget=H},c[1]=function(a,b,c){var d=this;d.api={LOAD_PROGRESS:"loadProgres",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",SHARE:"share",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked"},d.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},c[2]=function(a,b,c){var d=this;b.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},c[3]=function(a,b,c){var d=this;b.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}},b(0)})()